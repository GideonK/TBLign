#!/bin/bash

CURPATH=`pwd`
BINDIR=$1
LEVELS=$2
DBDIR=$3
ALIGNDIR=$4
CUTOFF_GOLD=$5
CUTOFF_SOURCE=$6
CUTOFF_TARGET=$7
CUTOFF_AUTO=$8
DEVTEST_GOLD=$9
DEVTEST_SOURCE=${10}
DEVTEST_TARGET=${11}
DEVTEST_AUTO=${12}
RULEKEYS=${13}

## cutoff set
echo "$BINDIR/./correct-test.sh $BINDIR $LEVELS $DBDIR $ALIGNDIR cutoff_output $CUTOFF_GOLD $CUTOFF_SOURCE $CUTOFF_TARGET $CUTOFF_AUTO $RULEKEYS"
$BINDIR/./correct-test.sh $BINDIR $LEVELS $DBDIR $ALIGNDIR cutoff_output $CUTOFF_GOLD $CUTOFF_SOURCE $CUTOFF_TARGET $CUTOFF_AUTO $RULEKEYS

## processing for devtest set
echo "perl $BINDIR/choose-cutoff.pl -l $DBDIR/cutoff_levels.txt -d $DBDIR/cutoff_scores.txt $DBDIR/cutoff_output/all_correct_eval.txt"
perl $BINDIR/choose-cutoff.pl -l $DBDIR/cutoff_levels.txt -d $DBDIR/cutoff_scores.txt $DBDIR/cutoff_output/all_correct_eval.txt

## test set
echo "$BINDIR/./correct-test.sh $BINDIR $DBDIR/cutoff_levels.txt $DBDIR $ALIGNDIR devtest_output_Europarl $TEST_GOLD $TEST_SOURCE $TEST_TARGET $TEST_AUTO $RULEKEYS"
$BINDIR/./correct-test.sh $BINDIR $DBDIR/cutoff_levels.txt $DBDIR $ALIGNDIR test_output_Europarl $TEST_GOLD $TEST_SOURCE $TEST_TARGET $TEST_AUTO $RULEKEYS
